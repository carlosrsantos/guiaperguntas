<%- include('partials/header.ejs') %>

<body>
    <%- include('partials/navbar.ejs') %>

    <div class="container">
        <hr>
        <h1><%= pergunta.titulo %></h1>
        <p><%=  pergunta.descricao %></p>
        <hr>
        <form method="POST" action="/responder">
            <h3>Responda</h3>
            <label>Resposta:</label>
            <textarea placeholder="Digite sua resposta" class="form-control" name="corpo"></textarea>
            <br>
            <input type="hidden" name="pergunta" value="<%= pergunta.id %>">
            <button type="submit" class="btn btn-primary" name="botao" onclick="">Responder</button>
        </form>
        <hr>
        <h3>Respostas</h3>
        <hr>
        <% respostas.forEach(resposta => {%>
            <br>
            <div class="card">
              <div class="card-body">
                <p><%= resposta.corpo %></p>                
              </div>
            </div>
           
        <% }) %>
    </div>

</body>
<script>  

    var corpo = document.querySelector('textarea[name=corpo]');
    var botao = document.querySelector('button[name=botao]');

    botao.onclick = function() {
          if( corpo.value == ""){
            alert("Sua resposta n√£o pode ser vazia!");
            corpo.focus();
            return false;
          }
    }

</script>
<%- include('partials/footer.ejs') %>